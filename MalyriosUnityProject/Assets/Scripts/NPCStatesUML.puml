@startuml

class NPC {
    +string NPCName
    +int CurrentDialogueState
    +Dialogue CurrentDialogue
    +bool HasLearnedFireball
    +...
}

class DialogEvents {
    +static void FireEvent(string eventName)
    +...
}

class NPCData {
    +string NPCName
    +int CurrentDialogueState
    +bool HasLearnedFireball
    +...
    +NPCData(NPC npc)
}

class NPCManager {
    +NPC Wizard
    +NPC Son
    +NPC Hunter
    +NPC Healer
    +void UpdateNPCState(NPC npc, int newState)
    +void TriggerEvent(string eventName)
    +List<NPCData> SaveNPCs()
    +void LoadNPCs(List<NPCData> npcDataList)
    +NPC FindNPCByName(string name)
}


class PlayerData {
    +bool HasLearnedFireball
    +...
}

NPC "1" *-- "1" NPCData : Contains
NPCManager "1" *-- "1..4" NPC : Manages
NPCManager "1" *-- "1..4" NPCData : Saves
NPCManager ..> DialogEvents : Triggers events
DialogEvents --> PlayerData : Modifies

@enduml
